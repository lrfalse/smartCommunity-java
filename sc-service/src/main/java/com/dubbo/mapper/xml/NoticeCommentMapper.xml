<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dubbo.mapper.NoticeCommentMapper">

    <!--<resultMap id="BaseResultMap" type="com.commons.dto.anDto.NoticeCommentDto" >-->
        <!--<id column="id" property="id" jdbcType="BIGINT" />-->
        <!--<result column="user_id" property="userId" jdbcType="BIGINT" />-->
        <!--<result column="notice_id" property="noticeId" jdbcType="BIGINT" />-->
        <!--<result column="name" property="name" jdbcType="VARCHAR" />-->
        <!--<result column="content" property="content" jdbcType="VARCHAR" />-->
        <!--<result column="image_url" property="imageUrl" jdbcType="VARCHAR" />-->
        <!--<result column="comment_time" property="commentTime" jdbcType="DATE" />-->
    <!--</resultMap>-->

    <!-- 小区公告详情评论 -->
    <select id="queryNoticeCommentList" resultType="com.commons.dto.anDto.NoticeCommentDto" parameterType="ParamDto">
        SELECT
            n.id,
            n.user_id,
            n.notice_id,
            n.content,
            n.comment_time,
            u.name,
            u.image_url
        FROM
            t_notice_comment n
            INNER JOIN t_user u ON n.user_id = u.id
        WHERE
            n.status = #{status}
            AND n.notice_id = #{noticeId}
    </select>

</mapper>